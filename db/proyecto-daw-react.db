create database proyecto_daw_react;

CREATE TABLE users(
    id_user SERIAL NOT NULL,
    user_name varchar(255),
    first_name varchar(255),
    age int,
    PRIMARY KEY (id_user)
);

-- DROP TABLE users;

ALTER TABLE users ADD user_type VARCHAR(255) DEFAULT 'user';
ALTER TABLE users DROP COLUMN age;
ALTER TABLE users ADD COLUMN birth DATE;
ALTER TABLE users ADD COLUMN email VARCHAR(255);

CREATE TABLE opinions(
    id_opinion SERIAL NOT NULL,
    id_user_opinion int,
    id_film varchar(255),
    title varchar(255),
    opinion TEXT,
    rating int,
    PRIMARY KEY (id_opinion),
    CONSTRAINT fk_user FOREIGN KEY (id_user_opinion) REFERENCES users (id_user)
);

-- DROP TABLE opinions;

INSERT INTO users (user_name, first_name, birth, user_type)
    VALUES ('Álvaro', 'González', '2001-07-09', 'admin');
INSERT INTO users (user_name, first_name, birth, email)
    VALUES ('David', 'González', '1995-10-14', 'ejemplo@ejemplo.com');